# Offboard Mode 

---

### Start the PX4-Gazebo Simulation 

Spawn 4 drones in one Gazebo instance


```bash
cd ~/ctuav_gazebo-research/PX4-Autopilot/
PX4_GZ_STANDALONE=1 PX4_SYS_AUTOSTART=4001 PX4_GZ_MODEL_POSE="0,6" PX4_SIM_MODEL=gz_x500 ./build/px4_sitl_default/bin/px4 -i 4
```


### Start QGroundControl:

```bash
cd ~/ctuav_gazebo-research/Custom_QGC/qgroundcontrol
./build/Debug/QGroundControl
```

### Start the agent  

```bash
MicroXRCEAgent udp4 -p 8888
```

### Launch MAVROS

```bash
ros2 launch mavros multi_uas.launch
```


## Launch offboard_control node

```bash
ros2 run px4_ros_com offboard_control
```

---